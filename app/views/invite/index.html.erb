<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Chat</title>
	<link rel="stylesheet" href="">
	<style>

body {
  font-family: "Lato", sans-serif;
  background-color: white;
}

.sidenav {
  height: 100%;
  width: 250px;
  position: fixed;
  z-index: 1;
  top: 0;
  left: 0;
  background-color:black;
  overflow-x: hidden;
  padding-top: 20px;
  
}

.navv{
  margin-left: 250px; 
}
.sidenav a {
  padding: 6px 8px 6px 16px;
  text-decoration: none;
  font-size: 15px;
  color: white;
  display: block;
}

.sidenav a:hover {
  color: white;
  background-color: silver;
}

.main {
  margin-left: 250px; /* Same as the width of the sidenav */
  margin-top: 200px;
  font-size: 28px; /* Increased text to enable scrolling */
  padding: 0px 10px;

}

@media screen and (max-height: 450px) {
  .sidenav {padding-top: 15px;}
  .sidenav a {font-size: 18px;}
}
ul {
  list-style-type: none;
  margin: 0;
  padding: 30;
  font-size: 15px;
  overflow: hidden;  
  background-color: royalblue;
  
}

li {
  float: right;
 
}

li a {
  display: block;
  color: #cadetblue;
  text-align: left;
  padding: 14px 16px;
  text-decoration: none;
  color: white;
}

li a:hover:not(.active) {
  background-color: silver;
}

li a.active {
  color: blue;
  background-color: lightskyblue;
}
.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content a {
  float: none;
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.dropdown-content a:hover {
  background-color: #ddd;
}

.dropdown:hover .dropdown-content {
  display: block;
}

</style>
</head>
<body>
<div class="navv">
<ul>
  <li style="float:left"><a href="#Workspace"><%= @workspace.wks_name %></a></li>  
  <li><%= link_to "Log Out", logout_path, method: :delete %></li>
  <li><%= link_to current_user.email, '/users/edit' %></li>  
</ul>
</div>

<div class="sidenav">
<%= link_to 'Friends', new_channel_path %><br><br>
<%= link_to 'Channels', new_channel_path(:id => @workspace.id) %> 
  <ul class="list-group list-group-flush"> 
      <% @channels.each do |channel| %>
     <li class="list-item"><%= link_to channel.channel_name, channel_path(channel) %></li><br>
     <% end %>
     </li>
  </ul>
<br><br>
<%= link_to 'Invite Friend', new_channel_path %><br><br>
<%= link_to 'Favourite Message', new_channel_path %><br><br>
<%= link_to 'About', new_channel_path %><br><br>                
<%= link_to 'Workspace Setting',edit_workspace_path(:id => @workspace.id)%><br><br>  


</div>
</div>
</div>

<div class="d-flex justify-content-center">
<div class="row">
  <div class="col-sm-8">
            <table class="table table-hover">
            <thead>
                <tr>                
                <th>Name</th>
                <th>Email</th>
                <th></th>
                </tr>
            </thead>
            
            <tbody>
            <% @users.each do |user| %>
              <tr>
                <td><%= user.name %></td>
                <td><%= user.email %></td>
                <td>
                  <% if !user.invites.find_by(channel_id: params[:channel_id]).nil? %>
                    <% if user.invites.find_by(channel_id: params[:channel_id]).role == 'member' %>
                    <%= link_to "Uninvite", channel_invite_path(params[:channel_id], user), method: :put, class: "btn btn-primary btn-sm", id: user.id %>
                    <% end %>
                                    
                    <% if user.invites.find_by(channel_id: params[:channel_id]).role.empty? %>
                    <%= link_to "Invite", channel_invite_path(params[:channel_id], user), method: :put, class: "btn btn-primary btn-sm", id: user.id %>
                    <% end %>
                                
                  <% end %>
        
                    <% if user.invites.find_by(channel_id: params[:channel_id]).nil? %>
                    <%= link_to "Invite", channel_invite_path(params[:channel_id], user), method: :put, class: "btn btn-primary btn-sm", id: user.id %>
                    <% end %>
                </td>
        
        
              </tr>
        
            <% end %>
            </tbody>
            </table>
  </div>
</div>
<p id="new_article"><p>
</div>
</body>
</html>